{% extends 'organizer/organizer_nav.html' %}
{% block content %}

<h1 class="text-2xl font-bold mb-4">Events</h1>

<div class="flex items-center px-3 text-white">
<form action="{% url 'org-event-search' %}" method="GET" class="space-y-3 mb-4">

    <div class="flex gap-2">
        <select name="category" class="p-2 border border-purple-600 rounded w-2/4 mb-2 mt-2">
            <option class="bg-black" value="">All Categories</option>
            {% for c in categories %}
                <option class="bg-black" value="{{ c.id }}" {% if request.GET.category == c.id|stringformat:"s" %}selected{% endif %}>
                    {{ c.name }}
                </option>
            {% endfor %}
        </select>

        <button name="filter_type" value="category" class="bg-purple-700 text-white px-2 py-1 rounded mt-2 mb-2 font-semibold">
            Filter Category
        </button>
    </div>

    {% comment %} <div class="flex gap-2">
        <input type="date" name="start_date" value="{{ request.GET.start_date }}" class="p-2 border border-purple-600 rounded w-1/3">

        <input type="date" name="end_date" value="{{ request.GET.end_date }}" class="p-2 border border-purple-600 rounded w-1/3">

        <button name="filter_type" value="date"
                class="bg-purple-700 text-white px-4 py-2 rounded font-semibold">
            Filter Date
        </button>
    </div> {% endcomment %}

</form>
</div>




<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for e in events %}
    <div class="rounded-2xl p-6 mx-3 flex flex-col gap-2 bg-gradient-to-br from-black via-[#1b0033] to-purple-900 text-white shadow-xl border border-white/10 backdrop-blur-xl">

    <p class="text-2xl font-bold">{{ e.name }}</p>

    <p><span class="font-semibold text-purple-300">Category:</span> {{ e.category.name }}</p>

    <p><span class="font-semibold text-purple-300">Participants:</span> {{ e.participants.count }}</p>

    <p><span class="font-semibold text-purple-300">Location:</span> {{ e.location }}</p>

    <p><span class="font-semibold text-purple-300">Date:</span> {{ e.date }}</p>

    <div class="flex justify-between mt-4 text-sm font-semibold">
        <a class="text-blue-400 hover:text-blue-300" href="{% url 'org-event-update' e.id %} ">Edit</a>
        <a class="text-green-400 hover:text-green-300" href="{% url 'org-view-event' e.id %}">View</a>
        <a class="text-red-400 hover:text-red-300" href="{% url 'org-event-delete' e.id %}">Delete</a>
    </div>

</div>
    {% endfor %}
</div>


{% endblock %}
